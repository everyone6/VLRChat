{% extends "base.html" %}
{% block content %}
{{ super() }}

<!-- Add XLR link before site name -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Find the site title element
    var siteName = document.querySelector('.wy-side-nav-search a.icon');
    if (siteName) {
        // Create XLR link
        var xlrLink = document.createElement('a');
        xlrLink.href = 'https://xlr.chat';
        xlrLink.textContent = 'XLR';
        xlrLink.style.cssText = 'color: white; text-decoration: none; font-weight: bold; margin-right: 8px; font-size: 1.2em;';
        
        // Insert before the home icon
        siteName.parentNode.insertBefore(xlrLink, siteName);
        
        // Add a separator
        var separator = document.createElement('span');
        separator.textContent = ' / ';
        separator.style.cssText = 'color: white; margin: 0 4px;';
        siteName.parentNode.insertBefore(separator, siteName);
    }
});
</script>

<script type="module">
import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"
Chatbot.init({
    chatflowid: "a542b9c1-03cf-409a-bcdc-295aa6c7eb09",
    apiHost: "https://api.vlr.chat",
    theme: {
        button: {
            backgroundColor: '#333333',
            right: 20,
            bottom: 20,
            size: 48,
            dragAndDrop: true,
            iconColor: 'white',
        },
        chatWindow: {
            showTitle: true,
            title: 'VLRChat',
            titleBackgroundColor: '#343131',
            welcomeMessage: 'Welcome to VLRChat.',
            errorMessage: 'Sorry, something went wrong. Please try again.',
            backgroundColor: '#ffffff',
            height: 700,
            width: 400,
            fontSize: 16,
            clearChatOnReload: false,
            showSourceDocuments: false,
            sourceDocsTitle: 'Sources:',
            renderHTML: true,
            botMessage: {
                backgroundColor: '#f7f8ff',
                textColor: '#303235',
                showAvatar: false,
            },
            userMessage: {
                backgroundColor: '#333333',
                textColor: '#ffffff',
                showAvatar: false,
            },
            textInput: {
                placeholder: 'Type your question',
                backgroundColor: '#ffffff',
                textColor: '#303235',
                sendButtonColor: '#333333',
                autoFocus: true,
            },
            feedback: {
                color: '#303235',
            },
            footer: {
                textColor: '#303235',
                text: 'Powered by',
                company: 'Flowise',
                companyLink: 'https://flowiseai.com'
            }
        }
    },
    customCSS: `a.MuiChip-root { display: none !important; }`,
})
</script>
{% endblock %}
